---
import StatsScreen from '@/components/StatsScreen.tsx'
import MainLayout from '@/layouts/MainLayout.astro'
import { produce } from '@/data/produce'
import type { ProduceItem } from '@/types'

export async function getStaticPaths() {
	return produce.map((item) => ({
		params: { item: item.name.toLowerCase().replace(/\s+/g, '-') },
		props: { item }
	}))
}

interface Props {
	item: ProduceItem
}

const { item } = Astro.props
---

<MainLayout class='bg-woodsmoke-950'>
	<StatsScreen client:only {item} />
</MainLayout>
